# –í–∞—Ä–∏–∞–Ω—Ç 6. 
# 1. –î–∞–Ω—ã —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∑–∞ –º–µ—Å—è—Ü –º–∞—Ä—Ç. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞–π—Ç–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö 
# –∏  –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö  –∑–Ω–∞—á–µ–Ω–∏–π  —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä  –≤  –º–µ—Å—è—Ü–µ,  
# —Å–∞–º—É—é  –Ω–∏–∑–∫—É—é  –∏  —Å–∞–º—É—é  –≤—ã—Å–æ–∫—É—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã, 
# –∞ —Ç–∞–∫–∂–µ —Å—Ä–µ–¥–Ω–µ–º–µ—Å—è—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã. 

# 2.  –°–æ—Å—Ç–∞–≤–∏—Ç—å  –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä  (yield),  
# –∫–æ—Ç–æ—Ä—ã–π  –ø–µ—Ä–µ–≤–µ–¥–µ—Ç  —Å–∏–º–≤–æ–ª—ã  —Å—Ç—Ä–æ–∫–∏  –∏–∑  –≤–µ—Ä—Ö–Ω–µ–≥–æ 
# —Ä–µ–≥–∏—Å—Ç—Ä–∞ –≤ –Ω–∏–∂–Ω–∏–π.



def weatherPrase():
    from settings import wTOKEN

    data = __import__("requests").get(
        "http://api.openweathermap.org/data/2.5/forecast",
        params={
            "q": "Rostov",
            "units": "metric",
            "lang": "ru",
            "APPID": wTOKEN
        }
    ).json()
    
    temp_list = {idx["dt_txt"]: float(idx["main"]["temp"]) for idx in data["list"]}

    print("–ü—Ä–æ–≥–Ω–æ–∑ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –Ω–∞ 5 –¥–Ω–µ–π:")
    for dt in temp_list:
        print(
            f"üå° {dt} = {temp_list[dt]} ‚ÑÉ"
        )


def ex1():
    march_temp_2021 = {
        '1': '+4¬∞', '2': '+4¬∞', 
        '3': '+5¬∞', '4': '+7¬∞', 
        '5': '+8¬∞', '6': '+2¬∞', 
        '7': '+2¬∞', '8': '+5¬∞', 
        '9': '+3¬∞', '10': '0¬∞', 
        '11': '-4¬∞', '12': '-3¬∞', 
        '13': '+2¬∞', '14': '+8¬∞', 
        '15': '+10¬∞', '16': '+9¬∞', 
        '17': '+13¬∞', '18': '+6¬∞', 
        '19': '+7¬∞', '20': '+7¬∞', 
        '21': '+6¬∞', '22': '+7¬∞', 
        '23': '+5¬∞', '24': '+3¬∞', 
        '25': '+2¬∞', '26': '+3¬∞', 
        '27': '+10¬∞', '28': '+10¬∞', 
        '29': '+11¬∞', '30': '+5¬∞', 
        '31': '+13¬∞'
    }
    print("–í—Å–µ –¥–∞–Ω–Ω—ã–µ:")
    for day in march_temp_2021.keys():
        print(
            f"{day} = {march_temp_2021[day]}"
        )
    print()
    pos = sum([1 for i in march_temp_2021.values() if "+" in i])
    print(f"–ö–æ–ª-–≤–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π = {pos} ‚ÑÉ")
    neg = sum([1 for i in march_temp_2021.values() if "-" in i])
    print(f"–ö–æ–ª-–≤–æ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π = {neg} ‚ÑÉ")
    temp = [int(t[:-1]) for t in march_temp_2021.values()]
    print(f"–°–∞–º–∞—è –Ω–∏–∑–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ –º–µ—Å—è—Ü–µ =  {min(temp)} ‚ÑÉ")
    print(f"–°–∞–º–∞—è –≤—ã—Å–æ–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ –º–µ—Å—è—Ü–µ = {max(temp)} ‚ÑÉ")
    print(f"–°—Ä–µ–¥–Ω–µ–º–µ—Å—è—á–Ω–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ = {round(sum(temp)/len(temp), 2)} ‚ÑÉ")


def ex2():

    def Yfunc(sent):
        yield sent.lower()

    text = input("–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç:\n")

    text = list(Yfunc(text))

    print("–ù–æ–≤—ã–π —Ç–µ–∫—Å—Ç:")
    print(*text)


while True:

    ex = input("–í–∞—Ä–∏–∞–Ω—Ç 6. –í—ã–±–µ—Ä–∏—Ç–µ (0 - –≤—ã—Ö–æ–¥) –∑–∞–¥–∞–Ω–∏–µ: ")

    if ex == "0":
        print("–í—ã—Ö–æ–¥ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã")
        break

    elif ex == "1":
        while True:

            task = input("(0 - –≤—ã—Ö–æ–¥)\n–ü—Ä–æ–≥–Ω–æ–∑ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –Ω–∞ 5 –¥–Ω–µ–π (= 1) –∏–ª–∏ —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è (= 2) ?: ")
            if task == "0":
                break

            elif task == "1":
                weatherPrase()
                break

            elif task == "2":
                print("–£—Å–ª–æ–≤–∏–µ:")
                print(
                    "–í–∞—Ä–∏–∞–Ω—Ç 6.\n" +
                    "1. –î–∞–Ω—ã —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∑–∞ –º–µ—Å—è—Ü –º–∞—Ä—Ç.\n"
                    "–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞–π—Ç–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö\n" +
                    "–∏  –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö  –∑–Ω–∞—á–µ–Ω–∏–π  —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä  –≤  –º–µ—Å—è—Ü–µ,\n" +
                    "—Å–∞–º—É—é  –Ω–∏–∑–∫—É—é  –∏  —Å–∞–º—É—é  –≤—ã—Å–æ–∫—É—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã,\n" +
                    "–∞ —Ç–∞–∫–∂–µ —Å—Ä–µ–¥–Ω–µ–º–µ—Å—è—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã."
                )
                ex1()
                break

            else:
                print("–í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–µ–µ!")


    elif ex == "2":
        print("–£—Å–ª–æ–≤–∏–µ:")
        print(
            "2.  –°–æ—Å—Ç–∞–≤–∏—Ç—å  –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä  (yield),\n" +
            "–∫–æ—Ç–æ—Ä—ã–π  –ø–µ—Ä–µ–≤–µ–¥–µ—Ç  —Å–∏–º–≤–æ–ª—ã  —Å—Ç—Ä–æ–∫–∏\n" +
            "–∏–∑  –≤–µ—Ä—Ö–Ω–µ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞ –≤ –Ω–∏–∂–Ω–∏–π."
        )
        ex2()

    else:
        print("–ù–µ—Ç —Ç–∞–∫–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è")